Search.setIndex({"docnames": ["entrypoints/autosix", "entrypoints/job_submitter", "index", "modules/constants", "modules/htc", "modules/sixdesk_tools", "modules/utils"], "filenames": ["entrypoints/autosix.rst", "entrypoints/job_submitter.rst", "index.rst", "modules/constants.rst", "modules/htc.rst", "modules/sixdesk_tools.rst", "modules/utils.rst"], "titles": ["AutoSix", "Job Submitter", "Welcome to the pylhc submitter documentation!", "Constants Definitions", "HTCondor Tools", "Sixdesk Tools", "Utilities"], "terms": {"i": [0, 1, 3, 4, 5], "wrapper": [0, 5, 6], "automat": [0, 1], "perform": [0, 5], "necessari": 0, "setup": [0, 5], "step": 0, "need": [0, 1, 3, 4, 5, 6], "sixdesk": [0, 2], "us": [0, 1, 3, 4, 5, 6], "The": [0, 1, 4, 5], "function": [0, 1, 4, 5], "similar": [0, 5], "pylhc_submitt": [0, 3, 4, 5, 6], "job_submitt": [0, 1], "inner": 0, "product": 0, "replace_dict": [0, 1, 5, 6], "creat": [0, 1, 4], "set": [0, 3, 5, 6], "job": [0, 2, 3, 4, 5], "directori": [0, 1, 4, 5, 6], "gather": [0, 5], "data": [0, 1], "To": 0, "avoid": 0, "conflict": 0, "each": [0, 4], "workspac": [0, 3], "mean": [0, 5], "can": [0, 1, 3, 4], "onli": [0, 1, 5], "one": [0, 1, 4], "studi": [0, 1, 5], "per": [0, 1, 4, 5], "bewar": 0, "max_materi": [0, 3, 5], "limit": 0, "individu": [0, 5], "all": [0, 1, 5, 6], "togeth": [0, 1], "e": [0, 3, 5], "should": [0, 1, 3], "max_user_job": 0, "number_of_workspac": 0, "contain": [0, 1, 2, 4, 5], "variabl": [0, 4], "your": [0, 1, 4], "mask": [0, 1, 5], "well": [0, 5], "environ": [0, 5], "see": [0, 1, 4, 5], "descript": [0, 4], "below": 0, "In": [0, 5], "ani": [0, 3], "other": [0, 1], "wai": 0, "special": 0, "behav": [0, 6], "like": [0, 4, 5, 6], "normal": 0, "also": [0, 1, 5], "insert": 0, "thei": [0, 6], "ar": [0, 1, 4, 5, 6], "loop": [0, 5], "over": [0, 5], "same": [0, 4], "manner": 0, "given": [0, 1, 4, 5], "list": [0, 1, 4, 5], "For": [0, 1, 4, 5], "addit": [0, 1, 4], "inform": [0, 1], "guid": [0, 1], "page": [0, 1, 2], "omc": [0, 1], "document": [0, 1], "site": [0, 1], "If": [0, 1, 5], "you": 0, "run": [0, 1, 5], "importerror": 0, "cannot": 0, "import": 0, "name": [0, 1, 4, 5, 6], "from": [0, 1, 4], "partial": 0, "initi": [0, 5], "modul": [0, 3, 4, 5], "sixdeskdb": [0, 5], "util": [0, 2], "extern": [0, 5], "ha": [0, 3, 4, 5], "been": [0, 3, 5], "compil": 0, "current": 0, "python": [0, 4, 5], "o": 0, "version": 0, "indic": [0, 3], "xxx": 0, "There": 0, "two": 0, "do": [0, 1, 5], "thi": [0, 1, 3, 4, 5], "m": [0, 3], "numpi": 0, "f2py": 0, "c": [0, 5], "f": 0, "desir": 0, "shortcut": 0, "might": 0, "avail": 0, "an": [0, 3, 4], "activ": [0, 5], "venv": 0, "copi": 0, "symlink": 0, "result": [0, 5], "cpython": 0, "so": [0, 1, 5], "file": [0, 1, 4, 5], "folder": [0, 1, 5], "alreadi": [0, 1, 5], "becaus": 0, "ran": 0, "b": 0, "py": 0, "build_ext": 0, "Then": 0, "build": 0, "lib": 0, "stai": 0, "argument": [0, 1, 4, 5], "requir": [0, 1, 4], "path": [0, 1, 4, 5, 6], "program": [0, 1], "": [0, 1, 5], "dictasstr": [0, 1], "dict": [0, 1, 4, 5, 6], "kei": [0, 1, 4, 6], "string": [0, 1, 6], "replac": [0, 1, 4, 5, 6], "mask_sixdeskenv": 0, "mask_sysenv": 0, "sixdesk_tool": [0, 5], "field": 0, "turn": [0, 3], "ampmin": [0, 3], "ampmax": [0, 3], "ampstep": [0, 3], "angl": [0, 3, 5], "option": [0, 1, 4, 5], "resubmiss": [0, 1, 3], "platform": [0, 3], "loglevel": [0, 3], "firstse": [0, 3], "lastse": [0, 3], "runtyp": [0, 3], "npair": [0, 3], "emitt": [0, 3], "dimens": [0, 3], "writebin": [0, 3], "energi": [0, 3], "These": [0, 1, 5], "valu": [0, 1, 3, 4, 5, 6], "singl": 0, "entri": [0, 6], "working_directori": [0, 1, 3], "where": [0, 1, 4, 5], "put": [0, 1, 4], "apply_mad6t_hack": [0, 3], "appli": 0, "hack": 0, "remov": [0, 5], "binari": [0, 5], "call": [0, 4, 5], "ignor": 0, "check": [0, 1, 4, 5], "twiss": [0, 5], "fail": [0, 1, 5], "submiss": [0, 2, 4], "case": 0, "grep": 0, "wrong": 0, "line": [0, 1, 5], "g": [0, 3, 5], "madx": [0, 1, 3, 4, 5], "comment": [0, 5], "WITH": 0, "care": 0, "action": [0, 1], "store_tru": [0, 1], "da_turnstep": [0, 3], "int": [0, 1, 3, 4, 5], "between": [0, 5], "da": 0, "v": 0, "plot": [0, 5], "default": [0, 1, 4, 5], "100": [0, 3, 5], "execut": [0, 1, 3, 4, 5], "pathorstr": [0, 6], "python2": [0, 1, 3], "python3": [0, 1, 3, 5], "af": [0, 3, 5], "latest": 0, "cern": [0, 2, 3, 5], "ch": [0, 3, 5], "user": [0, 3], "mad": [0, 3], "bin": [0, 3], "jobid_mask": [0, 1, 4, 5], "str": [0, 1, 3, 4, 5, 6], "placehold": 0, "maximum": [0, 4], "materi": 0, "schedul": [0, 5], "here": 0, "none": [0, 3, 4, 5, 6], "leav": 0, "defin": [0, 1, 3, 4], "htcondor_run_six": 0, "sub": [0, 1, 4], "templat": 0, "0": [0, 3, 5], "warn": 0, "modifi": 0, "sixdesk_directori": [0, 3], "perman": 0, "more": [0, 5], "detail": 0, "htcondor": [0, 1, 2, 3, 5], "api": 0, "max_stag": [0, 3], "last": [0, 5], "stage": [0, 3], "follow": 0, "skip": [0, 3, 5], "run_six": [0, 5], "sh": [0, 5], "instal": [0, 5], "THE": 0, "TO": 0, "OF": 0, "And": 0, "t": [0, 5], "anaconda": 0, "distribut": 0, "system": 0, "intern": 0, "sixdb": [0, 5], "resubmit": [0, 3, 5], "find": 0, "error": [0, 3, 4], "previou": 0, "pro": [0, 3, 5], "own": 0, "doe": [0, 1, 5, 6], "doc": 0, "project": [0, 3, 5], "sixtrack": [0, 3, 5], "sixdesk_util": [0, 3, 5], "ssh": [0, 1, 3, 4, 5], "machin": [0, 1], "via": [0, 1, 4, 5], "access": [0, 1], "stop_workspace_init": [0, 3], "stop": [0, 3], "creation": [0, 2], "befor": [0, 3], "make": [0, 1, 6], "manual": [0, 5], "chang": [0, 1], "unlock": [0, 3, 5], "forc": [0, 4], "have": [0, 1, 3, 4, 5], "lock": 0, "author": [0, 1, 3], "jdilli": [0, 1, 3], "main": 0, "opt": [0, 6], "sourc": [0, 3, 4, 5, 6], "matrix": 0, "run_job": 0, "jobnam": [0, 3, 5], "jobarg": [0, 5], "env": [0, 5], "autosixenviron": [0, 3, 5], "submit": [0, 1, 3, 4, 5], "procedur": 0, "paramet": [0, 1, 3, 4, 5, 6], "dotdict": 0, "ensembl": 0, "object": [0, 3, 4], "fill": [0, 5], "allow": 1, "parametr": 1, "script": [1, 2, 4, 5, 6], "dictionari": 1, "command": 1, "must": [1, 4], "present": 1, "format": 1, "type": [1, 4], "apart": 1, "freeli": 1, "choosabl": 1, "which": 1, "wa": [1, 3], "origin": 1, "written": 1, "when": [1, 5, 6], "transfer": [1, 4], "back": 1, "work": [1, 4, 5], "job_output_directori": 1, "outputdata": 1, "finish": [1, 3, 5], "successfulli": 1, "differ": 1, "grid": 1, "local": 1, "A": [1, 3, 4, 6], "tf": [1, 5], "id": 1, "further": 1, "post": 1, "process": [1, 4], "append_job": 1, "flag": 1, "rerun": 1, "finer": 1, "wider": 1, "exist": [1, 6], "point": 1, "reexecut": 1, "check_fil": 1, "expect": 1, "job_output_dir": 1, "after": [1, 3, 5], "success": 1, "append": 1, "resum": 1, "glob": [1, 5], "unix": 1, "wildcard": 1, "presenc": [1, 5], "itself": 1, "dryrun": 1, "prepar": 1, "start": 1, "resume_job": 1, "succeed": [1, 3], "htc_argument": 1, "accountinggroup": 1, "pleas": 1, "accounting_group": 1, "max_retri": 1, "notif": [1, 4], "just": [1, 5], "pass": 1, "output": [1, 4, 5, 6], "dir": [1, 5], "sure": 1, "its": 1, "jobflavour": [1, 4], "give": 1, "rough": 1, "estim": 1, "runtim": [1, 4], "choic": 1, "espresso": 1, "microcenturi": 1, "longlunch": 1, "workdai": [1, 4], "tomorrow": 1, "testmatch": 1, "nextweek": 1, "num_process": 1, "number": 1, "4": 1, "did": 1, "run_loc": 1, "Not": 1, "suggest": 1, "script_argu": 1, "pair": 1, "includ": [1, 5, 6], "script_extens": 1, "new": 1, "extens": [1, 4], "infer": 1, "otherwis": [1, 6], "mihof": 1, "fesoubel": 1, "simplifi": 2, "autosix": [2, 5], "constant": 2, "definit": 2, "tool": 2, "index": [2, 4], "search": 2, "help": [3, 5], "consist": 3, "specif": 3, "relat": 3, "collect": 3, "class": [3, 5, 6], "mask_text": [3, 5], "pathlib": 3, "union": [3, 4, 5], "posixpath": [3, 5], "bool": [3, 5], "fals": [3, 5], "setdynam": 3, "_setdynamicallytyp": 3, "sentinel": 3, "later": 3, "dynam": [3, 5], "sixdeskenviron": 3, "0x7f531af10890": 3, "basedir": [3, 5], "scratchdir": 3, "turnspow": 3, "1": 3, "60": 3, "col": 3, "30": 3, "float": 3, "3": [3, 4], "75": 3, "6": 3, "500": 3, "gamma": 3, "except": 3, "stageskip": 3, "complet": 3, "entir": 3, "due": 3, "purpos": 3, "interact": 3, "restart": 3, "stagestop": 3, "signal": 3, "sent": 3, "end": 3, "iter": [3, 5, 6], "wait": 3, "them": [3, 4, 5], "provid": [4, 5], "write_bash": 4, "bash": [4, 5], "either": 4, "take": 4, "input": [4, 5, 6], "datafram": [4, 5], "commandlin": 4, "shell": 4, "make_subfil": 4, "specifi": 4, "standard": 4, "8h": 4, "htc": [4, 5], "create_multijob_for_bashfil": 4, "job_df": 4, "kwarg": [4, 5], "assum": 4, "n_file": 4, "keyword": [4, 5], "output_dir": [4, 6], "durat": 4, "max": [4, 5], "group": 4, "account": 4, "retri": 4, "amount": 4, "notifi": 4, "under": 4, "certain": 4, "condit": 4, "prioriti": 4, "order": 4, "create_subfile_from_job": 4, "cwd": [4, 5], "write": [4, 5], "submit_jobfil": 4, "jobfil": 4, "subfil": 4, "subprocess": 4, "cmdline_argu": 4, "check_percentage_signs_in_mask": 4, "create_jobs_from_mask": 4, "maskfil": 4, "replace_kei": 4, "file_ext": 4, "panda": 4, "conta": 4, "column": [4, 5], "beforehand": 4, "filenam": 4, "return": [4, 5], "pd": 4, "correspond": 4, "extent": 4, "ad": 4, "generate_jobdf_index": 4, "old_df": 4, "gener": [4, 5], "jobdf": 4, "job_id": 4, "organ": 5, "checkinput": 5, "properli": 5, "cd": 5, "sixjob": 5, "mad6t": 5, "w": 5, "checksixtrackoutput": 5, "run_statu": 5, "even": 5, "though": 5, "log": 5, "messag": 5, "debug": 5, "createjob": 5, "set_env": 5, "n": 5, "sixdeskenv": 5, "sysenv": 5, "final": 5, "info": 5, "about": 5, "stagefil": 5, "initializeworkspac": 5, "sixtrack_input": 5, "postprocess": 5, "analys": 5, "three": 5, "statist": 5, "seed": 5, "polar": 5, "autosix_output": 5, "sixdbcmd": 5, "analysis": 5, "fix": 5, "da_vs_turn": 5, "turnstep": 5, "outfil": 5, "plot_da_vs_turn": 5, "sixdbload": 5, "load_dir": 5, "abstract": 5, "base": 5, "basic": [5, 6], "method": 5, "themselv": 5, "implement": 5, "_run": 5, "stagemeta": 5, "namespac": 5, "stage_ord": 5, "submitmask": 5, "submitsixtrack": 5, "simul": 5, "runnabl": 5, "create_workspac": 5, "create_job": 5, "send": 5, "fix_pythonfile_cal": 5, "__file__": [5, 6], "init_workspac": 5, "remove_twiss_fail_check": 5, "out": 5, "set_max_materi": 5, "add": 5, "check_sixtrack_input": 5, "request": 5, "check_sixtrack_output": 5, "sixdb_cmd": 5, "cmd": 5, "analysi": 5, "sixdb_load": 5, "load": 5, "submit_mask": 5, "probabl": 5, "basefold": 5, "locat": 5, "repo": 5, "submit_sixtrack": 5, "calcul": 5, "post_process_da": 5, "create_da_tf": 5, "tupl": 5, "tfsdatafram": 5, "db": 5, "create_polar_plot": 5, "df_da": 5, "df_angl": 5, "save": [5, 6], "full": 5, "min": 5, "plot_polar": 5, "da_col": 5, "alost2": 5, "figur": 5, "window": 5, "titl": 5, "interpol": [5, 6], "true": 5, "curv": 5, "area": 5, "light": 5, "blue": 5, "angle_tick": 5, "numer": 5, "posit": 5, "degre": 5, "tick": 5, "amplitud": 5, "oper": 5, "form": 5, "todo": 5, "csv": 5, "fvanderv": 5, "extract_data_from_db": 5, "extract_da_data": 5, "directli": 5, "extract_meta_data": 5, "meta": 5, "helper": 5, "check_mask": 5, "replace_arg": 5, "valid": 5, "compat": 5, "is_lock": 5, "sixdesklock": 5, "some": 5, "check_last_stag": 5, "check_sixtrack_output_data": 5, "track": 5, "recurs": 5, "Will": 5, "busi": 5, "while": 5, "check_stages_for_setup": 5, "stage_nam": 5, "find_obviously_failed_sixtrack_submiss": 5, "whether": 5, "structur": [5, 6], "seem": 5, "first": 5, "found": 5, "speed": 5, "up": [5, 6], "precis": 5, "scan": 5, "for_all_job": 5, "func": 5, "callabl": 5, "arg": 5, "get_all_jobs_in_bas": 5, "sixdeskbas": 5, "get_first_dir": 5, "pattern": 5, "get_last_stag": 5, "get": 5, "reset_stag": 5, "reset": 5, "until": 5, "stagenam": 5, "set_stag": 5, "invers": 5, "skip_stag": 5, "set_stages_for_setup": 5, "hasn": 5, "reach": 5, "yet": 5, "iotool": 6, "possibl": 6, "convert_paths_in_dict_to_str": 6, "dict_": 6, "convert": 6, "those": 6, "escape_percentage_sign": 6, "escap": 6, "percentag": 6, "sign": 6, "config": 6, "parser": 6, "keys_to_path": 6, "make_replace_entries_iter": 6, "save_config": 6, "quick": 6, "save_options_to_config": 6, "invok": 6, "becom": 6, "ini": 6, "usual": 6, "life": 6, "easier": 6, "logging_tool": 6, "log_setup": 6, "logger": 6}, "objects": {"pylhc_submitter": [[0, 0, 0, "-", "autosix"], [1, 0, 0, "-", "job_submitter"]], "pylhc_submitter.autosix": [[0, 1, 1, "", "main"], [0, 1, 1, "", "run_job"]], "pylhc_submitter.constants": [[3, 0, 0, "-", "autosix"], [3, 0, 0, "-", "external_paths"], [3, 0, 0, "-", "general"]], "pylhc_submitter.constants.autosix": [[3, 2, 1, "", "AutoSixEnvironment"], [3, 3, 1, "", "SetDynamically"], [3, 2, 1, "", "SixDeskEnvironment"], [3, 4, 1, "", "StageSkip"], [3, 4, 1, "", "StageStop"]], "pylhc_submitter.htc": [[4, 0, 0, "-", "mask"], [4, 0, 0, "-", "utils"]], "pylhc_submitter.htc.mask": [[4, 1, 1, "", "check_percentage_signs_in_mask"], [4, 1, 1, "", "create_jobs_from_mask"], [4, 1, 1, "", "generate_jobdf_index"]], "pylhc_submitter.htc.utils": [[4, 1, 1, "", "create_multijob_for_bashfiles"], [4, 1, 1, "", "create_subfile_from_job"], [4, 1, 1, "", "make_subfile"], [4, 1, 1, "", "submit_jobfile"], [4, 1, 1, "", "write_bash"]], "pylhc_submitter.sixdesk_tools": [[5, 0, 0, "-", "create_workspace"], [5, 0, 0, "-", "extract_data_from_db"], [5, 0, 0, "-", "post_process_da"], [5, 0, 0, "-", "stages"], [5, 0, 0, "-", "submit"], [5, 0, 0, "-", "troubleshooting"], [5, 0, 0, "-", "utils"]], "pylhc_submitter.sixdesk_tools.create_workspace": [[5, 1, 1, "", "create_job"], [5, 1, 1, "", "fix_pythonfile_call"], [5, 1, 1, "", "init_workspace"], [5, 1, 1, "", "remove_twiss_fail_check"], [5, 1, 1, "", "set_max_materialize"]], "pylhc_submitter.sixdesk_tools.extract_data_from_db": [[5, 1, 1, "", "extract_da_data"], [5, 1, 1, "", "extract_meta_data"]], "pylhc_submitter.sixdesk_tools.post_process_da": [[5, 1, 1, "", "create_da_tfs"], [5, 1, 1, "", "create_polar_plots"], [5, 1, 1, "", "plot_polar"], [5, 1, 1, "", "post_process_da"]], "pylhc_submitter.sixdesk_tools.stages": [[5, 2, 1, "", "CheckInput"], [5, 2, 1, "", "CheckSixtrackOutput"], [5, 2, 1, "", "CreateJob"], [5, 2, 1, "", "Final"], [5, 2, 1, "", "InitializeWorkspace"], [5, 2, 1, "", "PostProcess"], [5, 2, 1, "", "SixdbCmd"], [5, 2, 1, "", "SixdbLoad"], [5, 2, 1, "", "Stage"], [5, 2, 1, "", "StageMeta"], [5, 2, 1, "", "SubmitMask"], [5, 2, 1, "", "SubmitSixtrack"]], "pylhc_submitter.sixdesk_tools.submit": [[5, 1, 1, "", "check_sixtrack_input"], [5, 1, 1, "", "check_sixtrack_output"], [5, 1, 1, "", "sixdb_cmd"], [5, 1, 1, "", "sixdb_load"], [5, 1, 1, "", "submit_mask"], [5, 1, 1, "", "submit_sixtrack"]], "pylhc_submitter.sixdesk_tools.troubleshooting": [[5, 1, 1, "", "check_last_stage"], [5, 1, 1, "", "check_sixtrack_output_data"], [5, 1, 1, "", "check_stages_for_setup"], [5, 1, 1, "", "find_obviously_failed_sixtrack_submissions"], [5, 1, 1, "", "for_all_jobs"], [5, 1, 1, "", "get_all_jobs_in_base"], [5, 1, 1, "", "get_first_dir"], [5, 1, 1, "", "get_last_stage"], [5, 1, 1, "", "reset_stages"], [5, 1, 1, "", "set_stages"], [5, 1, 1, "", "set_stages_for_setup"], [5, 1, 1, "", "skip_stages"]], "pylhc_submitter.sixdesk_tools.utils": [[5, 1, 1, "", "check_mask"], [5, 1, 1, "", "is_locked"]], "pylhc_submitter.utils": [[6, 0, 0, "-", "iotools"], [6, 0, 0, "-", "logging_tools"]], "pylhc_submitter.utils.iotools": [[6, 2, 1, "", "PathOrStr"], [6, 1, 1, "", "convert_paths_in_dict_to_strings"], [6, 1, 1, "", "escape_percentage_signs"], [6, 1, 1, "", "keys_to_path"], [6, 1, 1, "", "make_replace_entries_iterable"], [6, 1, 1, "", "save_config"]], "pylhc_submitter.utils.logging_tools": [[6, 1, 1, "", "log_setup"]]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:class", "3": "py:data", "4": "py:exception"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "class", "Python class"], "3": ["py", "data", "Python data"], "4": ["py", "exception", "Python exception"]}, "titleterms": {"autosix": [0, 3], "problem": 0, "search": 0, "f90": 0, "job": 1, "submitt": [1, 2], "welcom": 2, "pylhc": 2, "document": 2, "packag": 2, "refer": 2, "modul": 2, "indic": 2, "tabl": 2, "constant": 3, "definit": 3, "gener": 3, "extern": 3, "path": 3, "htcondor": 4, "tool": [4, 5, 6], "util": [4, 5, 6], "mask": 4, "resolv": 4, "sixdesk": 5, "stage": 5, "creat": 5, "workspac": 5, "submiss": 5, "post": 5, "process": 5, "da": 5, "extract": 5, "data": 5, "from": 5, "databas": 5, "troubleshoot": 5, "io": 6, "log": 6}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx.ext.viewcode": 1, "sphinx": 56}})